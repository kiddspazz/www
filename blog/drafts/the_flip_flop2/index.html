<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>The D Flip-Flop, pt 1</title>
    <meta name='viewport' content="width=device-width, initial-scale=1.0"/>
    <link id="favicon" href="/res/images/favicons/travFavicon.png" type="image/png" rel="icon">
    <link href="/res/css/stylesheet.css" type="text/css" rel="stylesheet"/>
    <script src="/res/js/loadHeader.js"></script>
    <script src="/res/js/loadFooter.js"></script>
  </head>

  <body>
    <div class="container">
      <main class="content">
      <div class="main">
        <h1>The D Flip-Flop, pt 2</h1>
        <p>Here's a D Flip-Flop diagram:</p>
        <img src="/res/blogmedia/dflipflop.png" style="margin: auto; height:200px; display: block">
        <p>What the hell does all that mean? Yeah, that's what I thought. &#x263a;</p>
        <p>Actually, it's not so bad. The squares with a rounded side are AND gates, the tiny little circles at their rounded tip is an inverter, or a NOT gate (changes the output from 1 to 0 or 0 to 1). That makes the whole rounded-side-square-and-little-circle combo a NAND gate. "D" is the input, "Q" is the output, and "<span style="text-decoration: overline">Q</span>" is the opposite of the output. </p>
        <p>You can see that each NAND gate has two inputs and one output. They output 1 if <b>not</b> both inputs are 1, making them Not-AND gates, NAND gates. More clearly said, they output 1 if either of the inputs is not 1.</p>
        <p>Here's where things get confusing (for me, anyway). The first thing that happens: the left-most NAND gate on the bottom receives two of whatever the value of "D" is. If "D" is 1, that gate will output 0; if "D" is 0, that gate will output 1.</p>
        <blockquote>...the DFF simply outputs the input value from the previous time unit.</blockquote>
        <p>The left-most top NAND gate will get the value of "D" as one input and the clock value as the other. The clock is pulsing between "1" and "0". Remember from the <i>Nand2Tetris</i> quote, we want the D Flip-Flop gate to output whatever the input was at the last time interval, i.e. the last time the clock's value was "1".</p>
        <p>Here are some pictures I had to stare at for a long time over several distinct staring sessions to figure out what was going on.</p>
        <p>These are when the clock's value is 1 (which means the clock is on is colored in red here):</p>
        <img src="/res/blogmedia/dflipflop1.png" style="margin: auto; height:200px; display: block">
        <img src="/res/blogmedia/dflipflop2.png" style="margin: auto; height:200px; display: block">
        <p>And these are when the clock is off:</p>
        <img src="/res/blogmedia/dflipflop3.png" style="margin: auto; height:200px; display: block">
        <img src="/res/blogmedia/dflipflop4.png" style="margin: auto; height:200px; display: block">
        <p>The important thing to see here is that the pink parts of the circuit depend on what was going on <b>before</b> the clock was 0, and that they will stay which ever way they were before the clock was 0.</p>
        <p>This is because when the clock is 0, the middle set of NAND gates <b>always both</b> output 1s. In other words, if you look at the top two pictures here and imagine the, wait, here's another diagram:</p>
        <img src="/res/blogmedia/dflipflop1.2.png" style="margin: auto; height:200px; display: block">
        <img src="/res/blogmedia/dflipflop2.2.png" style="margin: auto; height:200px; display: block">
        <p>Those two parts in the yellow circles? If they change, nothing else changes! That's the only bit that changes if the clock turns off!</p>
        <p>And while the clock is off, those two parts will always stay on.</p>
        <hr>
        <p>A little code:</p>
        <code>#include &lt;iostream&gt;</code><br>
        <code>using std::cout</code><br>
        <code>cout &lt;&lt; "Hello, world!"</code><br>
      </div>
      </main>
    </div>
  </body>
</html>
